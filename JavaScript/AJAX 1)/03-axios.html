<!-- axios.html -->

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>


<!-- AJAX의 주된 목적은 "새로고침 없이 비동기적으로 서버와 통신하기 위해서" 입니다. -->
<!-- Axios는 AJAX를 쉽게 사용하게 해주는 '라이브러리'입니다 -->
<body>
 <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

  <script>
    // <Promise 방법>
    // 1. Promise 객체를 변수에 할당하기
    const promiseObj = axios({
      // HTTP 메서드에는 대표적인 네가지 GET, POST, PUT, DELETE가 있다.
      // 지금은 get 요청을 보내서 고양이 사진을 가져올 참
      method: 'get',
      url: 'https://api.thecatapi.com/v1/images/search'
    })

    console.log(promiseObj) // Promise object

    promiseObj
      .then((response) => {
        console.log(response)
      })
      .catch((error) => {
        console.log(error)
      })

    console.log('안녕하세요1')
    // '안녕하세요'가 먼저 출력된다
    // console.log(response) ---> 서버에 get 요청 보내고, 응답이 도착했을 때 실행됨
    // '안녕하세요'가 나중에 출력되면 동기임.

    // 2. 변수 선언 없이 Promise 객체를 바로 처리한다
    axios ({
      method: 'get',
      url : 'https://api.thecatapi.com/v1/images/search'
    })
      .then((response) =>{
        console.log(response.data)
      })
    .catch((error) => {
      console.log(error)
    })
    
    console.log('안녕하세요2')
  </script>

</body>

</html>

